input {
    s3 {
        id => "cloudtrail"
        bucket => ""   <= PUTYOURBUCKETNAME ########
        codec => multiline { 
          pattern => "^NONEFIELD" 
          negate => true 
          what => previous 
          auto_flush_interval => 1 
          multiline_tag => "" }
    }
}

filter {
  json {
    source => "message"
    remove_field => message
  }

  geoip {
    source => "[source.ip]"
    target => "geoip"
  }
}

output {
  elasticsearch {
    hosts => ["https://localhost:9200"]
    ssl => true
    ssl_certificate_verification => false
    user => admin ### need to change this! #####
    password => admin   ### need to change this! #####
    ilm_enabled => false
    index => "cloudsniper-%{+YYYY-MM-dd}"
    }
}